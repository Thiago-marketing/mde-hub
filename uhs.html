<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PMS Lite ‚Ä¢ Unidades Habitacionais ‚Ä¢ MDE Hub</title>

  <!-- CSS √öNICO DO PROJETO -->
  <link rel="stylesheet" href="/css/app.css" />
</head>

<body class="page">

  <!-- TOPO -->
  <header class="topbar">
    <div class="user-info">
      <span id="userInitial">U</span>
      <div>
        <p id="userName">Usu√°rio de teste</p>
        <p id="userEmail">teste@mdesistemas.com.br</p>
      </div>
    </div>

    <div class="topbar-actions">
      <a href="/dashboard.html" class="btn-secondary btn-small">
        ‚Üê Voltar para o painel
      </a>
      <button id="toggleThemeBtn" class="btn-secondary btn-small">
        üåì Tema
      </button>
      <button id="logoutBtn" class="btn-sair">Sair</button>
    </div>
  </header>

  <!-- MENU LATERAL -->
  <aside class="sidebar">
    <h3>Opera√ß√£o</h3>
    <nav>
      <a href="/dashboard.html">Dashboard</a>
      <a href="/reservas.html">Reservas</a>
      <a href="/checkin.html">Check-in</a>
      <a href="/checkout.html">Check-out</a>
      <a href="/uhs.html" class="active">Unidades Habitacionais</a>
      <a href="/financeiro.html">Financeiro</a>
      <a href="/configuracoes.html">Configura√ß√µes</a>
    </nav>

    <h3>CRM</h3>
    <nav>
      <a href="/painel-crm.html">Painel CRM</a>
      <a href="/leads.html">Leads</a>
      <a href="/kanban.html">Kanban</a>
      <a href="/atividades.html">Atividades</a>
    </nav>

    <h3>Admin</h3>
    <nav>
      <a href="/checklist-governanca.html">Checklist Governan√ßa</a>
    </nav>
  </aside>

  <!-- CONTE√öDO PRINCIPAL -->
  <main class="content">

    <section class="page-header">
      <div>
        <h1>Unidades Habitacionais (UHs)</h1>
        <p>Cadastre e gerencie os quartos do hotel. Essa base alimenta o mapa de reservas, check-in e financeiro.</p>
      </div>
      <button id="btnNovaUh" class="btn-primary">
        + Nova UH
      </button>
    </section>

    <!-- LEGENDA / STATUS -->
    <section class="card mb-3">
      <h2 class="card-title">Status das UHs</h2>
      <p class="text-sm">
        <span class="badge status-livre">Livre</span>
        <span class="badge status-ocupado">Ocupado</span>
        <span class="badge status-limpeza">Limpeza</span>
        <span class="badge status-manutencao">Manuten√ß√£o</span>
        <span class="badge status-bloqueado">Bloqueado</span>
      </p>
    </section>

    <!-- LISTA DE UHs -->
    <section class="card">
      <div class="card-header">
        <h2 class="card-title">Lista de UHs</h2>
        <input
          type="text"
          id="filtroUh"
          class="input"
          placeholder="Filtrar por nome, tipo ou status..."
        />
      </div>

      <div class="table-wrapper">
        <table class="table">
          <thead>
            <tr>
              <th>UH</th>
              <th>Tipo</th>
              <th>Capacidade</th>
              <th>Status</th>
              <th>Di√°ria padr√£o</th>
              <th style="width: 120px;">A√ß√µes</th>
            </tr>
          </thead>
          <tbody id="tbodyUhs">
            <!-- Linhas preenchidas via JS -->
          </tbody>
        </table>

        <div id="estadoVazioUhs" class="estado-vazio" style="display: none;">
          Nenhuma UH cadastrada ainda.
          Clique em <strong>‚Äú+ Nova UH‚Äù</strong> para criar a primeira unidade.
        </div>
      </div>
    </section>
  </main>

  <!-- MODAL DE CADASTRO / EDI√á√ÉO -->
  <div id="modalUh" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content">
      <header class="modal-header">
        <h2 id="modalUhTitulo">Nova UH</h2>
        <button id="btnFecharModalUh" class="modal-close">&times;</button>
      </header>

      <div class="modal-body">
        <form id="formUh">
          <input type="hidden" id="uhId" />

          <div class="form-grid">
            <div class="form-group">
              <label for="uhNome">Nome da UH</label>
              <input type="text" id="uhNome" class="input" placeholder="Ex.: Quarto 01, Su√≠te 04" required />
            </div>

            <div class="form-group">
              <label for="uhTipo">Tipo</label>
              <input type="text" id="uhTipo" class="input" placeholder="Ex.: Casal, Fam√≠lia, Solteiro" />
            </div>

            <div class="form-group">
              <label for="uhCapacidade">Capacidade</label>
              <input type="number" id="uhCapacidade" class="input" min="1" value="2" />
            </div>

            <div class="form-group">
              <label for="uhStatus">Status</label>
              <select id="uhStatus" class="input">
                <option value="LIVRE">Livre</option>
                <option value="OCUPADO">Ocupado</option>
                <option value="LIMPEZA">Limpeza</option>
                <option value="MANUTENCAO">Manuten√ß√£o</option>
                <option value="BLOQUEADO">Bloqueado</option>
              </select>
            </div>

            <div class="form-group">
              <label for="uhDiaria">Di√°ria padr√£o (R$)</label>
              <input type="number" id="uhDiaria" class="input" step="0.01" min="0" placeholder="Ex.: 250,00" />
            </div>
          </div>

          <div class="form-group">
            <label for="uhObservacoes">Observa√ß√µes</label>
            <textarea id="uhObservacoes" class="input" rows="3"
              placeholder="Ex.: Vista mar, cama king, perto da recep√ß√£o..."></textarea>
          </div>
        </form>
      </div>

      <footer class="modal-footer">
        <button id="btnCancelarUh" class="btn-secondary">Cancelar</button>
        <button id="btnSalvarUh" class="btn-primary">Salvar UH</button>
      </footer>
    </div>
  </div>

  <!-- SCRIPTS GLOBAIS (auth, tema, etc) -->
  <!-- Ajuste esses imports conforme j√° est√£o nas outras p√°ginas -->
  <script src="/js/supabase.js"></script>
  <script src="/js/pms/uhs.js"></script>
</body>
</html>
