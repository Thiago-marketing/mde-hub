<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MDE Hub â€¢ Simulador RevPAR</title>
  <link rel="stylesheet" href="/css/app.css" />
</head>
<body>

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-header"><div class="user-initial">M</div><div class="sidebar-brand">MDE Hub</div></div>
    <nav class="sidebar-nav">
      <a href="/dashboard.html">ğŸ“Š Dashboard</a>
      <a href="/painel-proprietario.html">ğŸ¨ Painel do ProprietÃ¡rio</a>
      <a href="/reservas.html">ğŸ›ï¸ Reservas</a>
      <a href="/financeiro.html">ğŸ’° Financeiro</a>
      <a href="/simuladores.html" class="active">ğŸ§® Simuladores</a>
      <div class="separator"></div>
      <a class="disabled">ğŸ“˜ CRM Hoteleiro â€¢ Em breve</a>
      <a class="disabled">ğŸ“ Proposta IA â€¢ Em breve</a>
      <div class="separator"></div>
      <a href="#" id="logoutBtn" class="logout">ğŸšª Sair</a>
    </nav>
  </aside>

  <main class="main">

    <header class="topbar">
      <div>
        <h1 class="page-title">Simulador de RevPAR</h1>
        <p class="page-subtitle">Calcule RevPAR e impacto da receita por apartamento disponÃ­vel.</p>
      </div>

      <div class="topbar-right">
        <select id="hotelSelect" class="hotel-select"><option>Carregando hotÃ©is...</option></select>
        <div class="user-profile"><span id="userInitial">U</span><div><p id="userName">Carregando...</p><p id="userEmail"></p></div></div>
      </div>
    </header>

    <section class="panel">
      <h2>Preencha os dados</h2>

      <div class="form-grid">
        <div class="form-group">
          <label>Receita Total (R$)</label>
          <input type="number" id="receita" placeholder="Ex: 18.000" />
        </div>

        <div class="form-group">
          <label>Total de UHs</label>
          <input type="number" id="total" placeholder="Ex: 40" />
        </div>

        <div class="form-group">
          <label>UH Ocupadas</label>
          <input type="number" id="ocupadas" placeholder="Ex: 28" />
        </div>
      </div>

      <button class="btn-primary" onclick="calcRevpar()">Calcular RevPAR</button>

      <div class="result-box" id="resultRevpar"></div>
    </section>

  </main>

  <script>
    function calcRevpar() {
      const receita = parseFloat(document.getElementById('receita').value);
      const total = parseFloat(document.getElementById('total').value);
      const ocupadas = parseFloat(document.getElementById('ocupadas').value);

      if (!receita || !total || !ocupadas) {
        document.getElementById('resultRevpar').innerHTML = "<p class='error'>Preencha todos os campos.</p>";
        return;
      }

      const adr = receita / ocupadas;
      const ocupacao = ocupadas / total;
      const revpar = adr * ocupacao;

      document.getElementById('resultRevpar').innerHTML = `
        <h3>Resultado</h3>
        <p class='value-highlight'>RevPAR: R$ ${revpar.toFixed(2)}</p>
      `;
    }
  </script>

  <script src="/js/supabase.js"></script>
  <script src="/js/app.js"></script>

</body>
</html>
