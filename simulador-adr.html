<!DOCTYPE html>
<html lang="pt-BR" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MDE Hub ‚Ä¢ Simulador ADR</title>

    <link rel="stylesheet" href="/css/app.css">
</head>

<body>

    <!-- BOT√ÉO MOBILE -->
    <div id="btnSidebarToggle">‚ò∞</div>

    <!-- SIDEBAR DIN√ÇMICA -->
    <div id="sidebar"></div>

    <!-- √ÅREA PRINCIPAL -->
    <main class="main-area">

        <!-- TOPBAR -->
        <div class="topbar">
            <div class="topbar-left">
                <h1 class="page-title">Simulador de ADR</h1>
                <p class="page-subtitle">Calcule o valor m√©dio da di√°ria com base na sua receita e n√∫mero de di√°rias vendidas.</p>
            </div>

            <div class="topbar-right">
                <button id="btnThemeToggle">üåì</button>
                <div class="user-badge" id="userInitial">U</div>
            </div>
        </div>

        <!-- CONTE√öDO PRINCIPAL -->
        <section class="grid-2">

            <!-- CARD DE ENTRADA -->
            <div class="card">
                <div class="card-title">Dados da Opera√ß√£o</div>

                <label class="form-label">Receita Total (R$)</label>
                <input id="receita" type="number" class="input" placeholder="Ex: 12470">

                <label class="form-label">Di√°rias Vendidas</label>
                <input id="diarias" type="number" class="input" placeholder="Ex: 58">

                <button id="btnCalcular" class="btn-primary" style="margin-top: 12px;">
                    Calcular ADR
                </button>
            </div>

            <!-- RESULTADO -->
            <div class="card">
                <div class="card-title">Resultado</div>

                <p class="card-desc">ADR (Average Daily Rate):</p>
                <div id="resultadoADR" class="card-value" style="font-size: 34px;">R$ --,--</div>

                <p class="card-desc" style="margin-top: 20px;">O ADR representa o valor m√©dio que o hotel recebeu por di√°ria vendida.</p>
            </div>
        </section>

        <!-- CARD EXPLICATIVO -->
        <section class="card">
            <div class="card-title">Como o ADR √© calculado?</div>
            <p class="card-desc">
                O ADR (Average Daily Rate) √© calculado dividindo a <strong>receita total</strong> pelo n√∫mero de <strong>di√°rias vendidas</strong>.
            </p>

            <pre style="margin-top: 10px; font-size: 14px; opacity: .8;">
ADR = Receita Total √∑ Di√°rias Vendidas
            </pre>
        </section>

    </main>

    <!-- JS CORE -->
    <script type="module" src="/js/app.js"></script>

    <!-- CARREGAR SIDEBAR -->
    <script>
        fetch("/partials/sidebar.html")
            .then(r => r.text())
            .then(html => document.querySelector("#sidebar").innerHTML = html);
    </script>

    <!-- SCRIPT DO SIMULADOR -->
    <script>
        document.getElementById("btnCalcular").addEventListener("click", () => {

            const receita = parseFloat(document.getElementById("receita").value);
            const diarias = parseFloat(document.getElementById("diarias").value);
            const output = document.getElementById("resultadoADR");

            if (!receita || !diarias || diarias === 0) {
                output.innerText = "Dados inv√°lidos";
                return;
            }

            const adr = receita / diarias;
            output.innerText = "R$ " + adr.toFixed(2).replace(".", ",");
        });
    </script>

</body>
</html>
